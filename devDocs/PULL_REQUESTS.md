# Merge/pull реквесты

К именованию MR/PR применимы правила именования [коммитов](COMMITS.md)

В репозиториях следуем принципу "атомарных" MR/PR. Один реквест - одна задача.

## Синхронизация с веткой main

Синхронизация ветки осуществляется с помощью команды **`git rebase`**.

Для синхронизации с веткой `main` необходимо использовать следующие команды:

```
git fetch // Подтягивает свежие ветки с репозитория
git rebase origin/main // Применяет изменения
```

Отличия от команды `git pull origin main` минимальные. Если MR/PR атомарный и в один коммит, то будет всего одна итерация по разрешнию конфликтов.
Чтобы залить синхронизированную ветку необходимо выполнить команду `git push origin your-branch-name --force`, чтобы перезаписать ветку в репозитории.

## Внесение изменений

Если оставлен комментарий, требующий внесения изменений, то нет необходимости создавать отдельный коммит, вносящий исправления (например: `Fix after review`), достаточно отредактировать код и вполнить следующие команды:

```
git add .
git commit --amend --no-edit // Добавляет изменения к последнему существующему коммиту, не изменяя название коммита
git push origin your-branch-name --force
```

## Влитие реквеста

Перед влитием реквеста необходимо убедиться, что в ветке ровно **один** коммит и все изменения и синхронизации проводились по инструкции выше.
Рекомендуется вливать реквест с использованием опции `Rebase and Merge`
