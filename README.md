# Унифицированные блоки для сайтов под управлением Wildless CMS

[Документация разработчика](./DEVDOC.md)

Запуск автотестов для Visual Regression блоков:

- Базовые скриншоты блоков, с которыми будет производится сравнение, находятся в папке \cypress\snapshots\base
- При выполнении тестов будут создаваться скриншоты блоков в папках \cypress\snapshots\actual \cypress\snapshots\diff(в том числе по успешно пройденным)
- Тесты по визуальному регрессу запускаются в pipeline при событии push, workflow называется e2e
- Если тест не отработает успешно:
  1. В логах workflow будет название скриншота, на котором найдено расхождение
  2. В Summary workflow будет архив со скриншотами
- После скачивания архива в папке\cypress\snapshots\actual можно посмотреть скриншот с ошибкой теста, в папке \cypress\snapshots\diff скриншот, на котором выделена разница в изображении
- Если изменения корректны, то необходимо обновить базовые скриншоты - запустить в ручном режиме workflow e2e_updateScreenshots:
  1. Перед запуском необходимо выбрать свою фича-ветку
  2. Обновленные базовые скриншоты закоммитятся в фича-ветку
